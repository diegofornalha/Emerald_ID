{"version":3,"file":"sdk.umd.js","sources":["../src/utils/deprecate.js","../src/interaction/interaction.js","../src/build/build.js","../src/response/response.js","../src/build/build-get-block.js","../src/build/build-get-account.js","../src/decode/decode.js","../src/resolve/resolve-ref-block-id.js","../src/resolve/resolve-cadence.js","../src/resolve/resolve-arguments.js","../src/encode/encode.js","../src/resolve/voucher.js","../src/resolve/resolve-accounts.js","../src/resolve/resolve-signatures.js","../src/resolve/resolve-validators.js","../src/resolve/resolve-final-normalization.js","../src/resolve/resolve-voucher-intercept.js","../src/resolve/resolve.js","../src/build/build-invariant.js","../src/send/send.js","../src/decode/sdk-decode.js","../src/wallet-utils/encode-signable.js","../src/build/build-validator.js","../src/build/build-at-block-height.js","../src/build/build-at-block-id.js","../src/account/account.js","../src/block/block.js","../src/build/build-authorizations.js","../src/build/build-get-events.js","../src/build/build-get-events-at-block-height-range.js","../src/build/build-get-events-at-block-ids.js","../src/build/build-get-block-header.js","../src/build/build-get-collection.js","../src/build/build-get-transaction-status.js","../src/build/build-get-transaction.js","../src/build/build-limit.js","../src/build/build-arguments.js","../src/build/build-proposer.js","../src/build/build-payer.js","../src/build/build-ping.js","../src/build/build-ref.js","../src/build/build-script.js","../src/build/build-transaction.js","../src/build/build-voucher-intercept.js","../src/resolve/resolve-proposer-sequence-number.js","../src/test-utils/mock-send.js","../src/test-utils/authz-fn.js","../src/test-utils/run.js","../src/VERSION.js","../src/sdk.js"],"sourcesContent":["import * as logger from \"@onflow/util-logger\"\n\nconst buildWarningMessage = ({name, transitionsPath}) => {\n  console.warn(\n    `\n    %cFCL/SDK Deprecation Notice\n    ============================\n    The ${name} builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: ${transitionsPath}\n    ============================\n  `,\n    \"font-weight:bold;font-family:monospace;\"\n  )\n}\n\nconst buildErrorMessage = ({name, transitionsPath}) => {\n  console.error(\n    `\n    %cFCL/SDK Deprecation Notice\n    ============================\n    The ${name} builder has been removed from the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: ${transitionsPath}\n    ============================\n  `,\n    \"font-weight:bold;font-family:monospace;\"\n  )\n}\n\nconst warn = deprecated => buildWarningMessage(deprecated)\n\nconst error = deprecated => {\n  buildErrorMessage(deprecated)\n}\n\nexport const deprecate = {\n  warn,\n  error,\n}\n\nconst getByValue = (map, searchValue) => {\n  for (let [key, value] of map.entries()) {\n    if (value === searchValue) return key;\n  }\n}\n\n// Allows access to old and new field names while showing deprecation warning for old\nexport const applyRenamings = (originalObject, deprecationsMap) => {\n  return new Proxy(originalObject, {\n    get: (obj, property) => {\n      if (getByValue(deprecationsMap, property)) {\n        const originalProperty = getByValue(deprecationsMap, property)\n        return Reflect.get(obj, originalProperty)\n      }\n      if (deprecationsMap.has(property)) {\n        logger.log({\n          title: \"FCL/SDK Deprecation Notice\",\n          message: `\"${property}\" will be deprecated in a future version.\n            Please use \"${deprecationsMap.get(property)}\" instead.`,\n          level: logger.LEVELS.warn\n        })\n      }\n      return Reflect.get(obj, property)\n    }\n  })\n}","import {invariant} from \"@onflow/util-invariant\"\n\nexport const UNKNOWN /*                       */ = \"UNKNOWN\"\nexport const SCRIPT /*                        */ = \"SCRIPT\"\nexport const TRANSACTION /*                   */ = \"TRANSACTION\"\nexport const GET_TRANSACTION_STATUS /*        */ = \"GET_TRANSACTION_STATUS\"\nexport const GET_ACCOUNT /*                   */ = \"GET_ACCOUNT\"\nexport const GET_EVENTS /*                    */ = \"GET_EVENTS\"\nexport const PING /*                          */ = \"PING\"\nexport const GET_TRANSACTION /*               */ = \"GET_TRANSACTION\"\nexport const GET_BLOCK /*                     */ = \"GET_BLOCK\"\nexport const GET_BLOCK_HEADER /*              */ = \"GET_BLOCK_HEADER\"\nexport const GET_COLLECTION /*                */ = \"GET_COLLECTION\"\n\nexport const BAD /* */ = \"BAD\"\nexport const OK /*  */ = \"OK\"\n\nexport const ACCOUNT /*  */ = \"ACCOUNT\"\nexport const PARAM /*    */ = \"PARAM\"\nexport const ARGUMENT /* */ = \"ARGUMENT\"\n\nexport const AUTHORIZER /* */ = \"authorizer\"\nexport const PAYER /*      */ = \"payer\"\nexport const PROPOSER /*   */ = \"proposer\"\n\nconst ACCT = `{\n  \"kind\":\"${ACCOUNT}\",\n  \"tempId\":null,\n  \"addr\":null,\n  \"keyId\":null,\n  \"sequenceNum\":null,\n  \"signature\":null,\n  \"signingFunction\":null,\n  \"resolve\":null,\n  \"role\": {\n    \"proposer\":false,\n    \"authorizer\":false,\n    \"payer\":false,\n    \"param\":false\n  }\n}`\n\nconst PRM = `{\n  \"kind\":\"${PARAM}\",\n  \"tempId\":null,\n  \"key\":null,\n  \"value\":null,\n  \"asParam\":null,\n  \"xform\":null,\n  \"resolve\": null\n}`\n\nconst ARG = `{\n  \"kind\":\"${ARGUMENT}\",\n  \"tempId\":null,\n  \"value\":null,\n  \"asArgument\":null,\n  \"xform\":null,\n  \"resolve\": null,\n  \"resolveArgument\": null\n}`\n\nconst IX = `{\n  \"tag\":\"${UNKNOWN}\",\n  \"assigns\":{},\n  \"status\":\"${OK}\",\n  \"reason\":null,\n  \"accounts\":{},\n  \"params\":{},\n  \"arguments\":{},\n  \"message\": {\n    \"cadence\":null,\n    \"refBlock\":null,\n    \"computeLimit\":null,\n    \"proposer\":null,\n    \"payer\":null,\n    \"authorizations\":[],\n    \"params\":[],\n    \"arguments\":[]\n  },\n  \"proposer\":null,\n  \"authorizations\":[],\n  \"payer\":[],\n  \"events\": {\n    \"eventType\":null,\n    \"start\":null,\n    \"end\":null,\n    \"blockIds\":[]\n  },\n  \"transaction\": {\n    \"id\":null\n  },\n  \"block\": {\n    \"id\":null,\n    \"height\":null,\n    \"isSealed\":null\n  },\n  \"account\": {\n    \"addr\":null\n  },\n  \"collection\": {\n    \"id\":null\n  }\n}`\n\nconst KEYS = new Set(Object.keys(JSON.parse(IX)))\n\nexport const interaction = () => JSON.parse(IX)\n\nconst CHARS = \"abcdefghijklmnopqrstuvwxyz0123456789\".split(\"\")\nconst randChar = () => CHARS[~~(Math.random() * CHARS.length)]\nexport const uuid = () => Array.from({length: 10}, randChar).join(\"\")\nexport const isNumber = d => typeof d === \"number\"\nexport const isArray = d => Array.isArray(d)\nexport const isObj = d => d !== null && typeof d === \"object\"\nexport const isNull = d => d == null\nexport const isFn = d => typeof d === \"function\"\n\nexport const isInteraction = ix => {\n  if (!isObj(ix) || isNull(ix) || isNumber(ix)) return false\n  for (let key of KEYS) if (!ix.hasOwnProperty(key)) return false\n  return true\n}\n\nexport const Ok = ix => {\n  ix.status = OK\n  return ix\n}\n\nexport const Bad = (ix, reason) => {\n  ix.status = BAD\n  ix.reason = reason\n  return ix\n}\n\nconst makeIx = wat => ix => {\n  ix.tag = wat\n  return Ok(ix)\n}\n\nexport const prepAccount = (acct, opts = {}) => ix => {\n  invariant(\n    typeof acct === \"function\" || typeof acct === \"object\",\n    \"prepAccount must be passed an authorization function or an account object\"\n  )\n  invariant(opts.role != null, \"Account must have a role\")\n\n  const ACCOUNT = JSON.parse(ACCT)\n  const role = opts.role\n  const tempId = uuid()\n\n  if (acct.authorization && isFn(acct.authorization)) acct = {resolve: acct.authorization}\n  if (!acct.authorization && isFn(acct)) acct = {resolve: acct}\n\n  ix.accounts[tempId] = {\n    ...ACCOUNT,\n    tempId,\n    ...acct,\n    role: {\n      ...ACCOUNT.role,\n      ...(typeof acct.role === \"object\" ? acct.role : {}),\n      [role]: true,\n    },\n  }\n\n  if (role === AUTHORIZER) {\n    ix.authorizations.push(tempId)\n  } else if (role === PAYER) {\n    ix.payer.push(tempId)\n  } else {\n    ix[role] = tempId\n  }\n\n  return ix\n}\n\nexport const makeArgument = arg => ix => {\n  let tempId = uuid()\n  ix.message.arguments.push(tempId)\n\n  ix.arguments[tempId] = JSON.parse(ARG)\n  ix.arguments[tempId].tempId = tempId\n  ix.arguments[tempId].value = arg.value\n  ix.arguments[tempId].asArgument = arg.asArgument\n  ix.arguments[tempId].xform = arg.xform\n  ix.arguments[tempId].resolve = arg.resolve\n  ix.arguments[tempId].resolveArgument = isFn(arg.resolveArgument) ? arg.resolveArgument.bind(arg) : arg.resolveArgument\n\n  return Ok(ix)\n}\n\nexport const makeUnknown /*                 */ = makeIx(UNKNOWN)\nexport const makeScript /*                  */ = makeIx(SCRIPT)\nexport const makeTransaction /*             */ = makeIx(TRANSACTION)\nexport const makeGetTransactionStatus /*    */ = makeIx(GET_TRANSACTION_STATUS)\nexport const makeGetTransaction /*          */ = makeIx(GET_TRANSACTION)\nexport const makeGetAccount /*              */ = makeIx(GET_ACCOUNT)\nexport const makeGetEvents /*               */ = makeIx(GET_EVENTS)\nexport const makePing /*                    */ = makeIx(PING)\nexport const makeGetBlock /*                */ = makeIx(GET_BLOCK)\nexport const makeGetBlockHeader /*          */ = makeIx(GET_BLOCK_HEADER)\nexport const makeGetCollection /*           */ = makeIx(GET_COLLECTION)\n\nconst is = wat => ix => ix.tag === wat\n\nexport const isUnknown /*                 */ = is(UNKNOWN)\nexport const isScript /*                  */ = is(SCRIPT)\nexport const isTransaction /*             */ = is(TRANSACTION)\nexport const isGetTransactionStatus /*    */ = is(GET_TRANSACTION_STATUS)\nexport const isGetTransaction /*          */ = is(GET_TRANSACTION)\nexport const isGetAccount /*              */ = is(GET_ACCOUNT)\nexport const isGetEvents /*               */ = is(GET_EVENTS)\nexport const isPing /*                    */ = is(PING)\nexport const isGetBlock /*                */ = is(GET_BLOCK)\nexport const isGetBlockHeader /*          */ = is(GET_BLOCK_HEADER)\nexport const isGetCollection /*           */ = is(GET_COLLECTION)\n\nexport const isOk /*  */ = ix => ix.status === OK\nexport const isBad /* */ = ix => ix.status === BAD\nexport const why /*   */ = ix => ix.reason\n\nexport const isAccount /*  */ = account => account.kind === ACCOUNT\nexport const isParam /*    */ = param => param.kind === PARAM\nexport const isArgument /* */ = argument => argument.kind === ARGUMENT\n\nconst hardMode = ix => {\n  for (let key of Object.keys(ix)) {\n    if (!KEYS.has(key))\n      throw new Error(`\"${key}\" is an invalid root level Interaction property.`)\n  }\n  return ix\n}\n\nconst recPipe = async (ix, fns = []) => {\n  try {\n    ix = hardMode(await ix)\n    if (isBad(ix)) throw new Error(`Interaction Error: ${ix.reason}`)\n    if (!fns.length) return ix\n    const [hd, ...rest] = fns\n    const cur = await hd\n    if (isFn(cur)) return recPipe(cur(ix), rest)\n    if (isNull(cur) || !cur) return recPipe(ix, rest)\n    if (isInteraction(cur)) return recPipe(cur, rest)\n    throw new Error(\"Invalid Interaction Composition\")\n  } catch (e) {\n    throw e\n  }\n}\n\nexport const pipe = (...args) => {\n  const [arg1, arg2] = args\n  if (isArray(arg1) && arg2 == null) return d => pipe(d, arg1)\n  return recPipe(arg1, arg2)\n}\n\nconst identity = v => v\n\nexport const get = (ix, key, fallback) => {\n  return ix.assigns[key] == null ? fallback : ix.assigns[key]\n}\n\nexport const put = (key, value) => ix => {\n  ix.assigns[key] = value\n  return Ok(ix)\n}\n\nexport const update = (key, fn = identity) => ix => {\n  ix.assigns[key] = fn(ix.assigns[key], ix)\n  return Ok(ix)\n}\n\nexport const destroy = key => ix => {\n  delete ix.assigns[key]\n  return Ok(ix)\n}\n","import {pipe, interaction} from \"../interaction/interaction.js\"\n\nexport function build(fns = []) {\n  return pipe(interaction(), fns)\n}\n","const DEFAULT_RESPONSE = `{\n    \"tag\":null,\n    \"transaction\":null,\n    \"transactionStatus\":null,\n    \"transactionId\":null,\n    \"encodedData\":null,\n    \"events\":null,\n    \"account\":null,\n    \"block\":null,\n    \"blockHeader\":null,\n    \"latestBlock\":null,\n    \"collection\":null\n}`\n\nexport const response = () => JSON.parse(DEFAULT_RESPONSE)\n","import {pipe, Ok, makeGetBlock} from \"../interaction/interaction.js\"\n\nexport function getBlock(isSealed = null) {\n  return pipe([\n    makeGetBlock,\n    ix => {\n      ix.block.isSealed = isSealed\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, makeGetAccount, Ok} from \"../interaction/interaction.js\"\nimport {sansPrefix} from \"@onflow/util-address\"\n\nexport function getAccount(addr) {\n  return pipe([\n    makeGetAccount,\n    ix => {\n      ix.account.addr = sansPrefix(addr)\n      return Ok(ix)\n    }\n  ])\n}\n","const latestBlockDeprecationNotice = () => {\n  console.error(\n    `\n          %c@onflow/decode Deprecation Notice\n          ========================\n\n          Operating upon data of the latestBlock field of the response object is deprecated and will no longer be recognized in future releases of @onflow/decode.\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field\n\n          =======================\n        `\n      .replace(/\\n\\s+/g, \"\\n\")\n      .trim(),\n    \"font-weight:bold;font-family:monospace;\"\n  )\n}\n\nconst decodeNumber = async (num, _, stack) => {\n  try {\n    return Number(num)\n  } catch (e) {\n    throw new Error(`Decode Number Error : ${stack.join(\".\")}`)\n  }\n}\n\nconst decodeImplicit = async (i) => i\n\nconst decodeVoid = async () => null\n\nconst decodeType = async (type) => {\n  return type.staticType\n}\n\nconst decodePath = async (path) => {\n  return {\n    domain: path.domain,\n    identifier: path.identifier\n  }\n}\n\nconst decodeCapability = async (cap) => {\n  return {\n    path: cap.path,\n    address: cap.address,\n    borrowType: cap.borrowType\n  }\n}\n\nconst decodeOptional = async (optional, decoders, stack) =>\n  optional ? await recurseDecode(optional, decoders, stack) : null\n\nconst decodeReference = async (v) => ({address: v.address, type: v.type})\n\nconst decodeArray = async (array, decoders, stack) =>\n  await Promise.all(\n    array.map(\n      (v) =>\n        new Promise(async (res) =>\n          res(await recurseDecode(v, decoders, [...stack, v.type]))\n        )\n    )\n  )\n\nconst decodeDictionary = async (dictionary, decoders, stack) =>\n  await dictionary.reduce(async (acc, v) => {\n    acc = await acc\n    acc[\n      await recurseDecode(v.key, decoders, [...stack, v.key])\n    ] = await recurseDecode(v.value, decoders, [...stack, v.key])\n    return acc\n  }, Promise.resolve({}))\n\nconst decodeComposite = async (composite, decoders, stack) => {\n  const decoded = await composite.fields.reduce(async (acc, v) => {\n    acc = await acc\n    acc[v.name] = await recurseDecode(v.value, decoders, [...stack, v.name])\n    return acc\n  }, Promise.resolve({}))\n  const decoder = composite.id && decoderLookup(decoders, composite.id)\n  return decoder ? await decoder(decoded) : decoded\n}\n\nconst defaultDecoders = {\n  UInt: decodeImplicit,\n  Int: decodeImplicit,\n  UInt8: decodeImplicit,\n  Int8: decodeImplicit,\n  UInt16: decodeImplicit,\n  Int16: decodeImplicit,\n  UInt32: decodeImplicit,\n  Int32: decodeImplicit,\n  UInt64: decodeImplicit,\n  Int64: decodeImplicit,\n  UInt128: decodeImplicit,\n  Int128: decodeImplicit,\n  UInt256: decodeImplicit,\n  Int256: decodeImplicit,\n  Word8: decodeImplicit,\n  Word16: decodeImplicit,\n  Word32: decodeImplicit,\n  Word64: decodeImplicit,\n  UFix64: decodeImplicit,\n  Fix64: decodeImplicit,\n  String: decodeImplicit,\n  Character: decodeImplicit,\n  Bool: decodeImplicit,\n  Address: decodeImplicit,\n  Void: decodeVoid,\n  Optional: decodeOptional,\n  Reference: decodeReference,\n  Array: decodeArray,\n  Dictionary: decodeDictionary,\n  Event: decodeComposite,\n  Resource: decodeComposite,\n  Struct: decodeComposite,\n  Enum: decodeComposite,\n  Type: decodeType,\n  Path: decodePath,\n  Capability: decodeCapability,\n}\n\nconst decoderLookup = (decoders, lookup) => {\n  const found = Object.keys(decoders).find((decoder) => {\n    if (/^\\/.*\\/$/.test(decoder)) {\n      const reg = new RegExp(decoder.substring(1, decoder.length - 1))\n      return reg.test(lookup)\n    }\n    return decoder === lookup\n  })\n  return lookup && found && decoders[found]\n}\n\nconst recurseDecode = async (decodeInstructions, decoders, stack) => {\n  let decoder = decoderLookup(decoders, decodeInstructions.type)\n  if (!decoder)\n    throw new Error(\n      `Undefined Decoder Error: ${decodeInstructions.type}@${stack.join(\".\")}`\n    )\n  return await decoder(decodeInstructions.value, decoders, stack)\n}\n\nexport const decode = async (\n  decodeInstructions,\n  customDecoders = {},\n  stack = []\n) => {\n  let decoders = {...defaultDecoders, ...customDecoders}\n  return await recurseDecode(decodeInstructions, decoders, stack)\n}\n\nexport const decodeResponse = async (response, customDecoders = {}) => {\n  let decoders = {...defaultDecoders, ...customDecoders}\n\n  if (response.encodedData) {\n    return await decode(response.encodedData, decoders)\n  } else if (response.transactionStatus) {\n    return {\n      ...response.transactionStatus,\n      events: await Promise.all(\n        response.transactionStatus.events.map(async function decodeEvents(e) {\n          return {\n            type: e.type,\n            transactionId: e.transactionId,\n            transactionIndex: e.transactionIndex,\n            eventIndex: e.eventIndex,\n            data: await decode(e.payload, decoders),\n          }\n        })\n      ),\n    }\n  } else if (response.transaction) {\n    return response.transaction\n  } else if (response.events) {\n    return await Promise.all(\n      response.events.map(async function decodeEvents(e) {\n        return {\n          blockId: e.blockId,\n          blockHeight: e.blockHeight,\n          blockTimestamp: e.blockTimestamp,\n          type: e.type,\n          transactionId: e.transactionId,\n          transactionIndex: e.transactionIndex,\n          eventIndex: e.eventIndex,\n          data: await decode(e.payload, decoders),\n        }\n      })\n    )\n  } else if (response.account) {\n    return response.account\n  } else if (response.block) {\n    return response.block\n  } else if (response.blockHeader) {\n    return response.blockHeader\n  } else if (response.latestBlock) {\n    latestBlockDeprecationNotice()\n    return response.latestBlock\n  } else if (response.transactionId) {\n    return response.transactionId\n  } else if (response.collection) {\n    return response.collection\n  }\n\n  return null\n}\n","import {isTransaction, Ok, interaction, pipe} from \"../interaction/interaction.js\"\nimport * as ixModule from \"../interaction/interaction.js\"\nimport {response} from \"../response/response.js\"\nimport {config} from \"@onflow/config\"\nimport {decodeResponse} from \"../decode/decode.js\"\nimport {getBlock} from \"../build/build-get-block.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\n\nasync function getRefId (opts) {\n  const node = await config().get(\"accessNode.api\")\n  const sendFn = await config.first(\n    [\"sdk.transport\", \"sdk.send\"],\n    defaultSend\n  )\n\n  invariant(\n    sendFn, \n    `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n  )\n\n  var ix\n  ix = await pipe(interaction(), [getBlock()])\n  ix = await sendFn(\n    ix,\n    {config, response, Buffer, ix: ixModule},\n    {node}\n  )\n  ix = await decodeResponse(ix)\n  return ix.id\n}\n\nexport function resolveRefBlockId(opts) {\n  return async ix => {\n    if (!isTransaction(ix)) return Ok(ix)\n    if (ix.message.refBlock) return Ok(ix)\n\n    ix.message.refBlock = await getRefId(opts)\n\n    return Ok(ix)\n  }\n}\n","import {isTransaction, isScript, get} from \"../interaction/interaction.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {config} from \"@onflow/config\"\n\nconst isFn = v => typeof v === \"function\"\nconst isString = v => typeof v === \"string\"\n\nexport async function resolveCadence(ix) {\n  if (isTransaction(ix) || isScript(ix)) {\n    var cadence = get(ix, \"ix.cadence\")\n    invariant(\n      isFn(cadence) || isString(cadence),\n      \"Cadence needs to be a function or a string.\"\n    )\n    if (isFn(cadence)) cadence = await cadence({})\n    invariant(isString(cadence), \"Cadence needs to be a string at this point.\")\n    ix.message.cadence = await config()\n      .where(/^0x/)\n      .then(d =>\n        Object.entries(d).reduce(\n          (cadence, [key, value]) => {\n            const regex = new RegExp(\"(\\\\b\" + key + \"\\\\b)\", 'g')\n            return cadence.replace(regex, value)\n          },\n          cadence\n        )\n      )\n  }\n\n  return ix\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isTransaction, isScript} from \"../interaction/interaction.js\"\n\nconst isFn = v => typeof v === \"function\"\n\nfunction cast(arg) {\n  // prettier-ignore\n  invariant(typeof arg.xform != null, `No type specified for argument: ${arg.value}`)\n\n  if (isFn(arg.xform)) return arg.xform(arg.value)\n  if (isFn(arg.xform.asArgument)) return arg.xform.asArgument(arg.value)\n\n  // prettier-ignore\n  invariant(false, `Invalid Argument`, arg)\n}\n\nasync function handleArgResolution(arg, depth = 3) {\n  invariant(depth > 0, `Argument Resolve Recursion Limit Exceeded for Arg: ${arg.tempId}`)\n\n  if (isFn(arg.resolveArgument)) {\n    const resolvedArg = await arg.resolveArgument()\n    return handleArgResolution(resolvedArg, depth - 1)\n  } else {\n    return arg\n  }\n}\n\nexport async function resolveArguments(ix) {\n  if (isTransaction(ix) || isScript(ix)) {\n    for (let [id, arg] of Object.entries(ix.arguments)) {\n      const res = await handleArgResolution(arg)\n      ix.arguments[id].asArgument = cast(res)\n    }\n  }\n\n  return ix\n}\n","import { SHA3 } from \"sha3\"\nimport { encode, Buffer } from \"@onflow/rlp\"\nimport { sansPrefix } from \"@onflow/util-address\"\n\nexport const encodeTransactionPayload = tx => prependTransactionDomainTag(rlpEncode(preparePayload(tx)))\nexport const encodeTransactionEnvelope = tx => prependTransactionDomainTag(rlpEncode(prepareEnvelope(tx)))\nexport const encodeTxIdFromVoucher = voucher => sha3_256(rlpEncode(prepareVoucher(voucher)))\n\nconst rightPaddedHexBuffer = (value, pad) =>\n  Buffer.from(value.padEnd(pad * 2, 0), \"hex\")\n\nconst leftPaddedHexBuffer = (value, pad) =>\n  Buffer.from(value.padStart(pad * 2, 0), \"hex\")\n\nconst TRANSACTION_DOMAIN_TAG = rightPaddedHexBuffer(Buffer.from(\"FLOW-V0.0-transaction\").toString(\"hex\"), 32).toString(\"hex\")\nconst prependTransactionDomainTag = tx => TRANSACTION_DOMAIN_TAG + tx\n\nconst addressBuffer = addr => leftPaddedHexBuffer(addr, 8)\n\nconst blockBuffer = block => leftPaddedHexBuffer(block, 32)\n\nconst argumentToString = arg => Buffer.from(JSON.stringify(arg), \"utf8\")\n\nconst scriptBuffer = script => Buffer.from(script, \"utf8\")\nconst signatureBuffer = signature => Buffer.from(signature, \"hex\")\n\nconst rlpEncode = v => {\n  return encode(v).toString(\"hex\")\n}\n\nconst sha3_256 = msg => {\n  const sha = new SHA3(256)\n  sha.update(Buffer.from(msg, \"hex\"))\n  return sha.digest().toString(\"hex\")\n}\n\nconst preparePayload = tx => {\n  validatePayload(tx)\n\n  return [\n    scriptBuffer(tx.cadence),\n    tx.arguments.map(argumentToString),\n    blockBuffer(tx.refBlock),\n    tx.computeLimit,\n    addressBuffer(sansPrefix(tx.proposalKey.address)),\n    tx.proposalKey.keyId,\n    tx.proposalKey.sequenceNum,\n    addressBuffer(sansPrefix(tx.payer)),\n    tx.authorizers.map(authorizer => addressBuffer(sansPrefix(authorizer))),\n  ]\n}\n\nconst prepareEnvelope = tx => {\n  validateEnvelope(tx)\n\n  return [preparePayload(tx), preparePayloadSignatures(tx)]\n}\n\nconst preparePayloadSignatures = tx => {\n  const signers = collectSigners(tx)\n\n  return tx.payloadSigs\n    .map(sig => {\n      return {\n        signerIndex: signers.get(sig.address),\n        keyId: sig.keyId,\n        sig: sig.sig,\n      }\n    })\n    .sort((a, b) => {\n      if (a.signerIndex > b.signerIndex) return 1\n      if (a.signerIndex < b.signerIndex) return -1\n\n      if (a.keyId > b.keyId) return 1\n      if (a.keyId < b.keyId) return -1\n    })\n    .map(sig => {\n      return [sig.signerIndex, sig.keyId, signatureBuffer(sig.sig)]\n    })\n}\n\nconst collectSigners = tx => {\n  const signers = new Map()\n  let i = 0\n\n  const addSigner = addr => {\n    if (!signers.has(addr)) {\n      signers.set(addr, i)\n      i++\n    }\n  }\n\n  addSigner(tx.proposalKey.address)\n  addSigner(tx.payer)\n  tx.authorizers.forEach(addSigner)\n\n  return signers\n}\n\nconst prepareVoucher = voucher => {\n  validateVoucher(voucher)\n\n  const signers = collectSigners(voucher)\n\n  const prepareSigs = sigs => {\n    return sigs.map(({ address, keyId, sig }) => {\n      return { signerIndex: signers.get(address), keyId, sig }\n    }).sort((a, b) => {\n      if (a.signerIndex > b.signerIndex) return 1\n      if (a.signerIndex < b.signerIndex) return -1\n      if (a.keyId > b.keyId) return 1\n      if (a.keyId < b.keyId) return -1\n    }).map(sig => {\n      return [sig.signerIndex, sig.keyId, signatureBuffer(sig.sig)]\n    })\n  }\n\n  return [\n    [\n      scriptBuffer(voucher.cadence),\n      voucher.arguments.map(argumentToString),\n      blockBuffer(voucher.refBlock),\n      voucher.computeLimit,\n      addressBuffer(sansPrefix(voucher.proposalKey.address)),\n      voucher.proposalKey.keyId,\n      voucher.proposalKey.sequenceNum,\n      addressBuffer(sansPrefix(voucher.payer)),\n      voucher.authorizers.map(authorizer => addressBuffer(sansPrefix(authorizer))),\n    ],\n    prepareSigs(voucher.payloadSigs),\n    prepareSigs(voucher.envelopeSigs),\n  ]\n}\n\nconst validatePayload = tx => {\n  payloadFields.forEach(field => checkField(tx, field))\n  proposalKeyFields.forEach(field =>\n    checkField(tx.proposalKey, field, \"proposalKey\")\n  )\n}\n\nconst validateEnvelope = tx => {\n  payloadSigsFields.forEach(field => checkField(tx, field))\n  tx.payloadSigs.forEach((sig, index) => {\n    payloadSigFields.forEach(field =>\n      checkField(sig, field, \"payloadSigs\", index)\n    )\n  })\n}\n\nconst validateVoucher = voucher => {\n  payloadFields.forEach(field => checkField(voucher, field))\n  proposalKeyFields.forEach(field =>\n    checkField(voucher.proposalKey, field, \"proposalKey\")\n  )\n  payloadSigsFields.forEach(field => checkField(voucher, field))\n  voucher.payloadSigs.forEach((sig, index) => {\n    payloadSigFields.forEach(field =>\n      checkField(sig, field, \"payloadSigs\", index)\n    )\n  })\n  envelopeSigsFields.forEach(field => checkField(voucher, field))\n  voucher.envelopeSigs.forEach((sig, index) => {\n    envelopeSigFields.forEach(field =>\n      checkField(sig, field, \"envelopeSigs\", index)\n    )\n  })\n}\n\nconst isNumber = v => typeof v === \"number\"\nconst isString = v => typeof v === \"string\"\nconst isObject = v => v !== null && typeof v === \"object\"\nconst isArray = v => isObject(v) && v instanceof Array\n\nconst payloadFields = [\n  {name: \"cadence\", check: isString},\n  {name: \"arguments\", check: isArray},\n  {name: \"refBlock\", check: isString, defaultVal: \"0\"},\n  {name: \"computeLimit\", check: isNumber},\n  {name: \"proposalKey\", check: isObject},\n  {name: \"payer\", check: isString},\n  {name: \"authorizers\", check: isArray},\n]\n\nconst proposalKeyFields = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sequenceNum\", check: isNumber},\n]\n\nconst payloadSigsFields = [{name: \"payloadSigs\", check: isArray}]\n\nconst payloadSigFields = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sig\", check: isString},\n]\n\nconst envelopeSigsFields = [{name: \"envelopeSigs\", check: isArray}]\n\nconst envelopeSigFields = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sig\", check: isString},\n]\n\nconst checkField = (obj, field, base, index) => {\n  const {name, check, defaultVal} = field\n  if (obj[name] == null && defaultVal != null) obj[name] = defaultVal\n  if (obj[name] == null) throw missingFieldError(name, base, index)\n  if (!check(obj[name])) throw invalidFieldError(name, base, index)\n}\n\nconst printFieldName = (field, base, index) => {\n  if (!!base)\n    return index == null ? `${base}.${field}` : `${base}.${index}.${field}`\n  return field\n}\n\nconst missingFieldError = (field, base, index) =>\n  new Error(`Missing field ${printFieldName(field, base, index)}`)\nconst invalidFieldError = (field, base, index) =>\n  new Error(`Invalid field ${printFieldName(field, base, index)}`)\n","import {withPrefix} from \"@onflow/util-address\"\nimport {encodeTxIdFromVoucher} from \"../encode/encode.js\"\n\nexport function findInsideSigners(ix) {\n  // Inside Signers Are: (authorizers + proposer) - payer\n  let inside = new Set(ix.authorizations)\n  inside.add(ix.proposer)\n  if (Array.isArray(ix.payer)) {\n    ix.payer.forEach(p => inside.delete(p));\n  } else {\n    inside.delete(ix.payer)\n  }\n  return Array.from(inside)\n}\n\nexport function findOutsideSigners(ix) {\n  // Outside Signers Are: (payer)\n  let outside = new Set(Array.isArray(ix.payer) ? ix.payer : [ix.payer])\n  return Array.from(outside)\n}\n\nexport const createSignableVoucher = ix => {\n  const buildAuthorizers = () => {\n    const authorizations = ix.authorizations\n      .map(cid => withPrefix(ix.accounts[cid].addr))\n      .reduce((prev, current) => {\n        return prev.find(item => item === current) ? prev : [...prev, current]\n      }, [])\n    return authorizations[0] ? authorizations : []\n  }\n\n  const buildInsideSigners = () =>\n    findInsideSigners(ix).map(id => ({\n      address: withPrefix(ix.accounts[id].addr),\n      keyId: ix.accounts[id].keyId,\n      sig: ix.accounts[id].signature,\n    }))\n\n    const buildOutsideSigners = () =>\n    findOutsideSigners(ix).map(id => ({\n      address: withPrefix(ix.accounts[id].addr),\n      keyId: ix.accounts[id].keyId,\n      sig: ix.accounts[id].signature,\n    }))\n\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(id => ix.arguments[id].asArgument),\n    proposalKey: {\n      address: withPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum,\n    },\n    payer: withPrefix(ix.accounts[Array.isArray(ix.payer) ? ix.payer[0] : ix.payer].addr),\n    authorizers: buildAuthorizers(),\n    payloadSigs: buildInsideSigners(),\n    envelopeSigs: buildOutsideSigners(),\n  }\n}\n\nexport const voucherToTxId = voucher => {\n  return encodeTxIdFromVoucher(voucher)\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isTransaction} from \"../interaction/interaction.js\"\nimport {createSignableVoucher} from \"./voucher.js\"\n\nconst isFn = v => typeof v === \"function\"\nexport function buildPreSignable(acct, ix) {\n  try {\n    return {\n      f_type: \"PreSignable\",\n      f_vsn: \"1.0.1\",\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(d => ix.arguments[d].asArgument),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix),\n    }\n  } catch (error) {\n    console.error(\"buildPreSignable\", error)\n    throw error\n  }\n}\n\nasync function collectAccounts(ix, accounts, last, depth = 3) {\n  invariant(depth, \"Account Resolve Recursion Limit Exceeded\", {ix, accounts})\n\n  let authorizations = []\n  for (let ax of accounts) {\n    var old = last || ax\n    if (isFn(ax.resolve)) ax = await ax.resolve(ax, buildPreSignable(ax, ix))\n\n    if (Array.isArray(ax)) {\n      await collectAccounts(ix, ax, old, depth - 1)\n    } else {\n      if (ax.addr != null && ax.keyId != null) {\n        ax.tempId = `${ax.addr}-${ax.keyId}`\n      }\n      ix.accounts[ax.tempId] = ix.accounts[ax.tempId] || ax\n      ix.accounts[ax.tempId].role.proposer =\n        ix.accounts[ax.tempId].role.proposer || ax.role.proposer\n      ix.accounts[ax.tempId].role.payer =\n        ix.accounts[ax.tempId].role.payer || ax.role.payer\n      ix.accounts[ax.tempId].role.authorizer =\n        ix.accounts[ax.tempId].role.authorizer || ax.role.authorizer\n\n      if (ix.accounts[ax.tempId].role.proposer && ix.proposer === old.tempId) {\n        ix.proposer = ax.tempId\n      }\n\n      if (ix.accounts[ax.tempId].role.payer) {\n        if (Array.isArray(ix.payer)) {\n          ix.payer = Array.from(new Set([...ix.payer, ax.tempId].map(d =>\n            d === old.tempId ? ax.tempId : d\n          )))\n        } else {\n          ix.payer = Array.from(new Set([ix.payer, ax.tempId].map(d =>\n            d === old.tempId ? ax.tempId : d\n          )))\n        }\n        if (ix.payer.length > 1) {\n          // remove payer dups based on addr and keyId\n          const dupList = []\n          const payerAccts = []\n          ix.payer = ix.payer.reduce((g, tempId) => {\n            const { addr, keyId } = ix.accounts[tempId];\n            const key = `${addr}-${keyId}`;\n            payerAccts.push(addr)\n            if (dupList.includes(key)) return g;\n            dupList.push(key)\n            return [...g, tempId]\n          }, [])\n          const multiAccts = Array.from(new Set(payerAccts))\n          if (multiAccts.length > 1) {\n            throw new Error(\n              \"Payer can not be different accounts\"\n            )\n          }\n        }\n      }\n\n      if (ix.accounts[ax.tempId].role.authorizer) {\n        if (last) {\n          // do group replacement\n          authorizations = Array.from(new Set([...authorizations, ax.tempId]))\n        } else {\n          // do 1-1 replacement\n          ix.authorizations = ix.authorizations.map(d =>\n            d === old.tempId ? ax.tempId : d\n          )\n        }\n      }\n    }\n    if (old.tempId != ax.tempId) delete ix.accounts[old.tempId]\n  }\n\n  if (last) {\n    // complete (flatmap) group replacement\n    ix.authorizations = ix.authorizations\n      .map(d => (d === last.tempId ? authorizations : d))\n      .reduce(\n        (prev, curr) =>\n          Array.isArray(curr) ? [...prev, ...curr] : [...prev, curr],\n        []\n      )\n  }\n}\n\nexport async function resolveAccounts(ix) {\n  if (isTransaction(ix)) {\n    if (!Array.isArray(ix.payer)) {\n      console.warn(\n        `\n        %cFCL Warning\n        ============================\n        \"ix.payer\" must be an array. Support for ix.payer as a singular is deprecated,\n        see changelog for more info.\n        ============================\n        `,\n        \"font-weight:bold;font-family:monospace;\"\n      )\n    }\n    try {\n      await collectAccounts(ix, Object.values(ix.accounts))\n      await collectAccounts(ix, Object.values(ix.accounts))\n    } catch (error) {\n      console.error(\"=== SAD PANDA ===\\n\\n\", error, \"\\n\\n=== SAD PANDA ===\")\n      throw error\n    }\n  }\n  return ix\n}\n","import {isTransaction} from \"../interaction/interaction.js\"\nimport {sansPrefix} from \"@onflow/util-address\"\nimport {\n  encodeTransactionPayload as encodeInsideMessage,\n  encodeTransactionEnvelope as encodeOutsideMessage,\n} from \"../encode/encode.js\"\nimport {\n  createSignableVoucher,\n  findInsideSigners,\n  findOutsideSigners,\n} from \"./voucher.js\"\n\nexport async function resolveSignatures(ix) {\n  if (isTransaction(ix)) {\n    try {\n      let insideSigners = findInsideSigners(ix)\n      const insidePayload = encodeInsideMessage(prepForEncoding(ix))\n      await Promise.all(insideSigners.map(fetchSignature(ix, insidePayload)))\n\n      let outsideSigners = findOutsideSigners(ix)\n      const outsidePayload = encodeOutsideMessage({\n        ...prepForEncoding(ix),\n        payloadSigs: insideSigners.map(id => ({\n          address: ix.accounts[id].addr,\n          keyId: ix.accounts[id].keyId,\n          sig: ix.accounts[id].signature,\n        })),\n      })\n      await Promise.all(outsideSigners.map(fetchSignature(ix, outsidePayload)))\n    } catch (error) {\n      console.error(\"Signatures\", error, {ix})\n      throw error\n    }\n  }\n  return ix\n}\n\nfunction fetchSignature(ix, payload) {\n  return async function innerFetchSignature(id) {\n    const acct = ix.accounts[id]\n    if (acct.signature != null) return\n    const {signature} = await acct.signingFunction(\n      buildSignable(acct, payload, ix)\n    )\n    ix.accounts[id].signature = signature\n  }\n}\n\nexport function buildSignable(acct, message, ix) {\n  try {\n    return {\n      f_type: \"Signable\",\n      f_vsn: \"1.0.1\",\n      message,\n      addr: sansPrefix(acct.addr),\n      keyId: acct.keyId,\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(d => ix.arguments[d].asArgument),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix),\n    }\n  } catch (error) {\n    console.error(\"buildSignable\", error)\n    throw error\n  }\n}\n\nfunction prepForEncoding(ix) {\n  const payerAddress = sansPrefix((Array.isArray(ix.payer) \n  ? ix.accounts[ix.payer[0]]\n  : ix.accounts[ix.payer]).addr);\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(id => ix.arguments[id].asArgument),\n    proposalKey: {\n      address: sansPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum,\n    },\n    payer: payerAddress,\n    authorizers: ix.authorizations\n      .map(cid => sansPrefix(ix.accounts[cid].addr))\n      .reduce((prev, current) => {\n        return prev.find(item => item === current) ? prev : [...prev, current]\n      }, []),\n  }\n}\n","import { get, pipe, Ok, Bad } from \"../interaction/interaction.js\"\n\nexport async function resolveValidators(ix) {\n  const validators = get(ix, 'ix.validators', [])\n  return pipe(ix, validators.map(cb => ix => cb(ix, { Ok, Bad })))\n}   \n","import {sansPrefix} from \"@onflow/util-address\"\n\nexport async function resolveFinalNormalization(ix) {\n  for (let key of Object.keys(ix.accounts)) {\n    ix.accounts[key].addr = sansPrefix(ix.accounts[key].addr)\n  }\n  return ix\n}\n","import {get, isFn} from \"../interaction/interaction.js\"\nimport {createSignableVoucher} from \"./voucher.js\"\n\nexport async function resolveVoucherIntercept(ix) {\n  const fn = get(ix, \"ix.voucher-intercept\")\n  if (isFn(fn)) {\n    await fn(createSignableVoucher(ix))\n  }\n  return ix\n}\n","import {pipe, isTransaction} from \"../interaction/interaction.js\"\nimport {config} from \"@onflow/config\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\nimport * as ixModule from \"../interaction/interaction.js\"\nimport {response} from \"../response/response.js\"\nimport {build} from \"../build/build.js\"\nimport {getBlock} from \"../build/build-get-block.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\n\nimport {resolveRefBlockId} from \"./resolve-ref-block-id.js\"\nimport {resolveCadence} from \"./resolve-cadence.js\"\nimport {resolveArguments} from \"./resolve-arguments.js\"\nimport {resolveAccounts} from \"./resolve-accounts.js\"\nimport {resolveSignatures} from \"./resolve-signatures.js\"\nimport {resolveValidators} from \"./resolve-validators.js\"\nimport {resolveFinalNormalization} from \"./resolve-final-normalization.js\"\nimport {resolveVoucherIntercept} from \"./resolve-voucher-intercept.js\"\n\nconst noop = v => v\nconst debug =\n  (key, fn = noop) =>\n  async ix => {\n    const take = (obj, keys = []) => {\n      if (typeof keys === \"string\") keys = keys.split(\" \")\n      keys.reduce((acc, key) => ({...acc, [key]: obj[key]}), {})\n    }\n\n    const accts = ix =>\n      [\n        \"\\nAccounts:\",\n        {\n          proposer: ix.proposer,\n          authorizations: ix.authorizations,\n          payer: ix.payer,\n        },\n        \"\\n\\nDetails:\",\n        ix.accounts,\n      ].filter(Boolean)\n\n    const log = (...msg) => {\n      console.log(`debug[${key}] ---\\n`, ...msg, \"\\n\\n\\n---\")\n    }\n\n    if (await config.get(`debug.${key}`)) await fn(ix, log, accts)\n    return ix\n  }\n\nexport const resolve = pipe([\n  resolveCadence,\n  debug(\"cadence\", (ix, log) => log(ix.message.cadence)),\n  resolveArguments,\n  debug(\"arguments\", (ix, log) => log(ix.message.arguments, ix.message)),\n  resolveAccounts,\n  debug(\"accounts\", (ix, log, accts) => log(...accts(ix))),\n  /* special */ execFetchRef,\n  /* special */ execFetchSequenceNumber,\n  resolveSignatures,\n  debug(\"signatures\", (ix, log, accts) => log(...accts(ix))),\n  resolveFinalNormalization,\n  resolveValidators,\n  resolveVoucherIntercept,\n  debug(\"resolved\", (ix, log) => log(ix)),\n])\n\nasync function execFetchRef(ix) {\n  if (isTransaction(ix) && ix.message.refBlock == null) {\n    const node = await config().get(\"accessNode.api\")\n    const sendFn = await config.first([\"sdk.transport\", \"sdk.send\"], defaultSend)\n\n    invariant(\n      sendFn,\n      `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n    )\n\n    ix.message.refBlock = (\n      await sendFn(\n        build([getBlock()]),\n        {config, response, Buffer, ix: ixModule},\n        {node}\n      ).then(decode)\n    ).id\n  }\n  return ix\n}\n\nasync function execFetchSequenceNumber(ix) {\n  if (isTransaction(ix)) {\n    var acct = Object.values(ix.accounts).find(a => a.role.proposer)\n    invariant(acct, `Transactions require a proposer`)\n    if (acct.sequenceNum == null) {\n      const node = await config().get(\"accessNode.api\")\n      const sendFn = await config.first([\"sdk.transport\", \"sdk.send\"], defaultSend)\n\n      invariant(\n        sendFn,\n        `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n      )\n\n      ix.accounts[acct.tempId].sequenceNum = await sendFn(\n        await build([getAccount(acct.addr)]),\n        {config, response, Buffer, ix: ixModule},\n        {node}\n      )\n        .then(decode)\n        .then(acct => acct.keys)\n        .then(keys => keys.find(key => key.index === acct.keyId))\n        .then(key => key.sequenceNumber)\n    }\n  }\n  return ix\n}\n","import { Ok, Bad } from \"../interaction/interaction.js\"\n\nexport function invariant(...args) {\n  if (args.length > 1) {\n    const [predicate, message] = args\n    return invariant((ix, { Ok, Bad }) => {\n      return predicate ? Ok(ix) : Bad(ix, message)\n    })\n  }\n  const [fn] = args\n  return ix => fn(ix, {Ok, Bad})\n}\n","import {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\nimport {interaction, pipe} from \"../interaction/interaction.js\"\nimport * as ixModule from \"../interaction/interaction.js\"\nimport {invariant} from \"../build/build-invariant.js\"\nimport {response} from \"../response/response.js\"\nimport {config} from \"@onflow/config\"\nimport {resolve as defaultResolve} from \"../resolve/resolve.js\"\n\nexport const send = async (args = [], opts = {}) => {\n  const sendFn = await config.first(\n    [\"sdk.transport\", \"sdk.send\"],\n    opts.send || defaultSend\n  )\n\n  invariant(\n    sendFn, \n    `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n  )\n\n  const resolveFn = await config.first(\n    [\"sdk.resolve\"],\n    opts.resolve || defaultResolve\n  )\n\n  opts.node = opts.node || (await config().get(\"accessNode.api\"))\n\n  if (Array.isArray(args)) args = pipe(interaction(), args)\n  return sendFn(await resolveFn(args), {config, response, ix: ixModule, Buffer}, opts)\n}\n","import {decodeResponse} from \"./decode.js\"\nimport {config} from \"@onflow/config\"\n\nexport async function decode(response) {\n  const decodersFromConfig = await config().where(/^decoder\\./)\n  const decoders = Object.entries(decodersFromConfig).map(\n    ([pattern, xform]) => {\n      pattern = `/${pattern.replace(/^decoder\\./, \"\")}$/`\n      return [pattern, xform]\n    }\n  )\n\n  return decodeResponse(response, Object.fromEntries(decoders))\n}\n","import {withPrefix, sansPrefix} from \"@onflow/util-address\"\nimport {\n    encodeTransactionPayload,\n    encodeTransactionEnvelope,\n} from \"../encode/encode.js\"\n\nconst findPayloadSigners = (voucher) => {\n    // Payload Signers Are: (authorizers + proposer) - payer\n    let payload = new Set(voucher.authorizers)\n    payload.add(voucher.proposalKey.address)\n    payload.delete(voucher.payer)\n    return Array.from(payload).map(withPrefix)\n}\n\nconst findEnvelopeSigners = (voucher) => {\n    // Envelope Signers Are: (payer)\n    let envelope = new Set([voucher.payer])\n    return Array.from(envelope).map(withPrefix)\n}\n\nexport class UnableToDetermineMessageEncodingTypeForSignerAddress extends Error {\n    constructor(signerAddress) {\n      const msg = `\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: ${signerAddress}. \n        Please ensure the address: ${signerAddress} is intended to sign the given transaction as specified by the transaction signable.\n      `.trim()\n      super(msg)\n      this.name = \"Unable To Determine Message Encoding For Signer Addresss\"\n    }\n}\n\nexport const encodeMessageFromSignable = (signable, signerAddress) => {\n    let payloadSigners = findPayloadSigners(signable.voucher)\n    let envelopeSigners = findEnvelopeSigners(signable.voucher)\n\n    const isPayloadSigner = payloadSigners.includes(withPrefix(signerAddress))\n    const isEnvelopeSigner = envelopeSigners.includes(withPrefix(signerAddress))\n\n    if (!isPayloadSigner && !isEnvelopeSigner) {\n        throw new UnableToDetermineMessageEncodingTypeForSignerAddress(signerAddress)\n    }\n\n    const message = {\n        cadence: signable.voucher.cadence,\n        refBlock: signable.voucher.refBlock,\n        computeLimit: signable.voucher.computeLimit,\n        arguments: signable.voucher.arguments,\n        proposalKey: {\n            ...signable.voucher.proposalKey,\n            address: sansPrefix(signable.voucher.proposalKey.address)\n        },\n        payer: sansPrefix(signable.voucher.payer),\n        authorizers: signable.voucher.authorizers.map(sansPrefix),\n        payloadSigs: signable.voucher.payloadSigs.map(ps => ({\n            ...ps,\n            address: sansPrefix(ps.address)\n        }))\n    }\n\n    return isPayloadSigner ? encodeTransactionPayload(message) : encodeTransactionEnvelope(message)\n}\n\n","import {update} from \"../interaction/interaction.js\"\n\nexport function validator(cb) {\n    return update('ix.validators', validators => \n        Array.isArray(validators) ? validators.push(cb) : [cb]\n    )\n}\n","import {pipe} from \"../interaction/interaction.js\"\nimport {validator} from \"./build-validator.js\"\n\nexport function atBlockHeight(height) {\n  return pipe([\n    ix => {\n      ix.block.height = height\n      return ix\n    },\n    validator(ix => {\n      if (typeof ix.block.isSealed === \"boolean\")\n        throw new Error(\"Unable to specify both block height and isSealed.\")\n      if (ix.block.id)\n        throw new Error(\"Unable to specify both block height and block id.\")\n      return ix\n    }),\n  ])\n}\n","import {isGetAccount, pipe, Ok} from \"../interaction/interaction.js\"\nimport {validator} from \"./build-validator.js\"\n\nexport function atBlockId(id) {\n  return pipe([\n    ix => {\n      ix.block.id = id\n      return Ok(ix)\n    },\n    validator((ix, {Ok, Bad}) => {\n      if (isGetAccount(ix)) return Bad(ix, \"Unable to specify a block id with a Get Account interaction.\")\n      if (typeof ix.block.isSealed === \"boolean\") return Bad(ix, \"Unable to specify both block id and isSealed.\")\n      if (ix.block.height) return Bad(ix, \"Unable to specify both block id and block height.\")\n      return Ok(ix)\n    }),\n  ])\n}\n","import {atBlockHeight} from \"../build/build-at-block-height.js\"\nimport {atBlockId} from \"../build/build-at-block-id.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\nimport {send} from \"../send/send.js\"\n\nexport function account(address, {height, id} = {}, opts) {\n  invariant(\n    !(id && height),\n    `Method: account -- Cannot pass \"id\" and \"height\" simultaneously`\n  )\n\n  // Get account by ID\n  if (id) return send([getAccount(address), atBlockId(id)], opts).then(decode)\n\n  // Get account by height\n  if (height) return send([getAccount(address), atBlockHeight(height)], opts).then(decode)\n\n  return send([getAccount(address)], opts).then(decode)\n}\n","import {send} from \"../send/send.js\"\nimport {getBlock} from \"../build/build-get-block\"\nimport {atBlockHeight} from \"../build/build-at-block-height.js\"\nimport {atBlockId} from \"../build/build-at-block-id.js\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\nimport {invariant} from \"@onflow/util-invariant\"\n\nexport function block({sealed = false, id, height} = {}, opts = {}) {\n  invariant(\n    !((sealed && id) || (sealed && height)),\n    `Method: block -- Cannot pass \"sealed\" with \"id\" or \"height\"`\n  )\n\n  invariant(\n    !(id && height),\n    `Method: block -- Cannot pass \"id\" and \"height\" simultaneously`\n  )\n\n  // Get block by ID\n  if (id) return send([getBlock(), atBlockId(id)], opts).then(decode)\n\n  // Get block by height\n  if (height) return send([getBlock(), atBlockHeight(height)], opts).then(decode)\n\n  // Get latest block\n  return send([getBlock(sealed)], opts).then(decode)\n}\n","import {pipe, prepAccount, AUTHORIZER} from \"../interaction/interaction.js\"\n\nexport function authorizations(ax = []) {\n  return pipe(\n    ax.map(authz => {\n      return prepAccount(authz, {role: AUTHORIZER})\n    })\n  )\n}\n\nexport function authorization(addr, signingFunction, keyId, sequenceNum) {\n  return {addr, signingFunction, keyId, sequenceNum}\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\n\nexport function getEvents(eventType, start, end) {\n\n  if (typeof start !== \"undefined\" || typeof end !== \"undefined\") {\n    console.warn(\n      `\n      %cFCL/SDK Deprecation Notice\n      ============================\n  \n      Passing a start and end into getEnvents has been deprecated and will not be supported in future versions of the Flow JS-SDK/FCL.\n      You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder\n  \n      ============================\n    `,\n      \"font-weight:bold;font-family:monospace;\"\n    )  \n  }\n\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventType\n      ix.events.start = start\n      ix.events.end = end\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\n\nexport function getEventsAtBlockHeightRange(eventType, start, end) {\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventType\n      ix.events.start = start\n      ix.events.end = end\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\n\nexport function getEventsAtBlockIds(eventType, blockIds = []) {\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventType\n      ix.events.blockIds = blockIds\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetBlockHeader} from \"../interaction/interaction.js\"\n\nexport function getBlockHeader(isSealed = null) {\n  return pipe([\n    makeGetBlockHeader,\n    ix => {\n      ix.block.isSealed = isSealed\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, makeGetCollection} from \"../interaction/interaction.js\"\n\nexport function getCollection(id = null) {\n  return pipe([\n    makeGetCollection,\n    ix => {\n      ix.collection.id = id\n      return ix\n    }\n  ])\n}\n","import {pipe, Ok, makeGetTransactionStatus} from \"../interaction/interaction.js\"\n\nexport function getTransactionStatus(transactionId) {\n  return pipe([\n    makeGetTransactionStatus,\n    ix => {\n      ix.transaction.id = transactionId\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, Ok, makeGetTransaction} from \"../interaction/interaction.js\"\n\nexport function getTransaction(transactionId) {\n  return pipe([\n    makeGetTransaction,\n    ix => {\n      ix.transaction.id = transactionId\n      return Ok(ix)\n    }\n  ])\n}\n","export function limit(computeLimit) {\n  return ix => {\n    ix.message.computeLimit = computeLimit\n    return ix\n  }\n}\n","import {pipe, makeArgument} from \"../interaction/interaction.js\"\n\nexport function args(ax = []) {\n  return pipe(ax.map(makeArgument))\n}\n\nexport function arg(value, xform) {\n  return {value, xform}\n}\n","import {prepAccount, PROPOSER} from \"../interaction/interaction.js\"\n\nexport async function proposer(authz) {\n  return prepAccount(authz, {role: PROPOSER})\n}\n","import {prepAccount, PAYER} from \"../interaction/interaction.js\"\n\nexport async function payer(authz) {\n  return prepAccount(authz, {role: PAYER})\n}\n","import {makePing} from \"../interaction/interaction.js\"\n\nexport function ping() {\n  return makePing\n}\n","import {pipe, Ok} from \"../interaction/interaction.js\"\n\nexport function ref(refBlock) {\n  return pipe([\n    ix => {\n      ix.message.refBlock = refBlock\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, Ok, put, makeScript} from \"../interaction/interaction.js\"\nimport {template} from \"@onflow/util-template\"\n\nexport function script(...args) {\n  return pipe([\n    makeScript,\n    put(\"ix.cadence\", template(...args))\n  ])\n}\n","import {pipe, put, Ok, makeTransaction} from \"../interaction/interaction.js\"\nimport {template} from \"@onflow/util-template\"\n\nconst DEFAULT_COMPUTE_LIMIT = 10\nconst DEFAULT_SCRIPT_ACCOUNTS = []\nconst DEFUALT_REF = null\n\nexport function transaction(...args) {\n  return pipe([\n    makeTransaction,\n    put(\"ix.cadence\", template(...args)),\n    ix => {\n      ix.message.computeLimit = ix.message.computeLimit || DEFAULT_COMPUTE_LIMIT\n      ix.message.refBlock = ix.message.refBlock || DEFUALT_REF\n      ix.authorizations = ix.authorizations || DEFAULT_SCRIPT_ACCOUNTS\n      return Ok(ix)\n    },\n  ])\n}\n","import {put} from \"../interaction/interaction.js\"\n\nexport function voucherIntercept(fn) {\n  return put(\"ix.voucher-intercept\", fn)\n}\n","import {isTransaction, Ok} from \"../interaction/interaction.js\"\nimport * as ixModule from \"../interaction/interaction.js\"\nimport {response as responseModule} from \"../response/response.js\"\nimport {config} from \"@onflow/config\"\nimport {decodeResponse} from \"../decode/decode.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {build} from \"../build/build.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\n\nexport const resolveProposerSequenceNumber = ({ node }) => async (ix) => {\n  if (!(isTransaction(ix))) return Ok(ix)\n  if (ix.accounts[ix.proposer].sequenceNum) return Ok(ix)\n\n  const sendFn = await config.first(\n    [\"sdk.transport\", \"sdk.send\"],\n    defaultSend\n  )\n\n  invariant(\n    sendFn, \n    `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n  )\n\n  const response = await sendFn(\n    await build([\n      getAccount(ix.accounts[ix.proposer].addr)\n    ]),\n    {config, response: responseModule, Buffer, ix: ixModule},\n    {node}\n  )\n  const decoded = await decodeResponse(response)\n\n  ix.accounts[ix.proposer].sequenceNum = decoded.keys[ix.accounts[ix.proposer].keyId].sequenceNumber\n\n  return Ok(ix)\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isGetAccount, isGetBlock} from \"../interaction/interaction\"\n\nexport function mockAccountResponse(ix, numberOfKeys = 5) {\n  // prettier-ignore\n  invariant(ix.account, \"mockAccountResponse(ix) -- ix.account is missing\", ix)\n  // prettier-ignore\n  invariant( ix.account.addr, \"mockAccountResponse(ix) -- ix.account.addr is missing\", ix)\n\n  const address = ix.account.addr\n\n  return {\n    account: {\n      addr: address,\n      keys: Array.from({length: numberOfKeys}, (_, i) => ({\n        index: i,\n        sequenceNumber: 42,\n      })),\n    },\n  }\n}\n\nexport function mockGetBlockResponse(ix) {\n  return {\n    tag: \"GET_BLOCK\",\n    block: {\n      id: \"32\",\n    },\n  }\n}\n\nconst identity = v => v\n\nexport function mockSend(fallback = identity) {\n  return async function execSend(ix) {\n    ix = await ix\n    switch (true) {\n      case isGetAccount(ix):\n        return mockAccountResponse(ix)\n\n      case isGetBlock(ix):\n        return mockGetBlockResponse(ix)\n\n      default:\n        return fallback(ix)\n    }\n  }\n}\n","export const idof = acct => `${acct.addr}-${acct.keyId}`\n\nexport function sig(opts) {\n  return [\"SIGNATURE\", opts.addr, opts.keyId].join(\".\")\n}\n\nexport function authzFn(opts = {}) {\n  return function (account) {\n    const acct = {\n      ...account,\n      ...opts,\n      signingFunction:\n        opts.signingFunction ||\n        account.signingFunction ||\n        fallbackSigningFunction,\n    }\n\n    return acct\n\n    function fallbackSigningFunction(signable) {\n      return {\n        addr: acct.addr,\n        keyId: acct.keyId,\n        signature: sig(acct),\n      }\n    }\n  }\n}\n\nexport function authzResolve(opts = {}) {\n  return function (account) {\n    const {tempId, ...rest} = opts\n    return {\n      ...account,\n      tempId: tempId || \"WITH_RESOLVE\",\n      resolve: authzFn(rest),\n    }\n  }\n}\n\nconst ROLE = {proposer: false, authorizer: false, payer: false}\nconst noop = () => {}\n\nexport function authzResolveMany(opts = {}) {\n  return function (account) {\n    const tempId = opts.tempId || \"AUTHZ_RESOLVE_MANY\"\n    return {\n      ...account,\n      tempId,\n      resolve: () =>\n        [\n          opts.proposer &&\n            authzFn(opts.proposer)({role: {...ROLE, proposer: true}}),\n          ...opts.authorizations\n            .map(authzFn)\n            .map(d => d({role: {...ROLE, authorizer: true}})),\n          opts.payer && authzFn(opts.payer)({role: {...ROLE, payer: true}}),\n        ].filter(Boolean),\n    }\n  }\n}\n","import {build} from \"../build/build\"\nimport {resolve} from \"../resolve/resolve\"\nimport {ref} from \"../build/build-ref\"\n\nexport const run = (fns = []) => build([ref(\"123\"), ...fns]).then(resolve)\n","export const VERSION = MICROBUNDLE_CURRENT_VERSION || \"TESTVERSION\"\n","import {deprecate} from \"./utils\"\n// Base\nexport {build} from \"./build/build.js\"\nexport {resolve} from \"./resolve/resolve.js\"\nexport {send} from \"./send/send.js\"\nexport {decode} from \"./decode/sdk-decode.js\"\nexport {\n  encodeTransactionPayload,\n  encodeTransactionEnvelope,\n  encodeTxIdFromVoucher,\n} from \"./encode/encode\"\n// Utils\nexport {\n  interaction,\n  isOk,\n  isBad,\n  why,\n  pipe,\n  get,\n  put,\n  update,\n  destroy,\n  isUnknown,\n  isScript,\n  isTransaction,\n  isGetTransaction,\n  isGetTransactionStatus,\n  isGetAccount,\n  isGetEvents,\n  isPing,\n  isGetBlock,\n  isGetBlockHeader,\n  isGetCollection,\n} from \"./interaction/interaction.js\"\nexport {createSignableVoucher, voucherToTxId} from \"./resolve/voucher.js\"\nexport {encodeMessageFromSignable} from \"./wallet-utils/encode-signable.js\"\nexport {template as cadence} from \"@onflow/util-template\"\nexport {template as cdc} from \"@onflow/util-template\"\n\n// Helpers\nexport {account} from \"./account/account.js\"\nexport {block} from \"./block/block.js\"\n\n// Builders\nexport {authorizations, authorization} from \"./build/build-authorizations.js\"\nexport {atBlockHeight} from \"./build/build-at-block-height.js\"\nexport {atBlockId} from \"./build/build-at-block-id.js\"\nexport {getAccount} from \"./build/build-get-account.js\"\nexport {getEvents} from \"./build/build-get-events.js\"\nexport {getEventsAtBlockHeightRange} from \"./build/build-get-events-at-block-height-range.js\"\nexport {getEventsAtBlockIds} from \"./build/build-get-events-at-block-ids\"\nexport {getBlock} from \"./build/build-get-block.js\"\nexport {getBlockHeader} from \"./build/build-get-block-header.js\"\nexport {getCollection} from \"./build/build-get-collection\"\nexport {getTransactionStatus} from \"./build/build-get-transaction-status.js\"\nexport {getTransaction} from \"./build/build-get-transaction.js\"\nexport {limit} from \"./build/build-limit.js\"\nexport {args, arg} from \"./build/build-arguments.js\"\nexport {proposer} from \"./build/build-proposer.js\"\nexport {payer} from \"./build/build-payer.js\"\nexport {ping} from \"./build/build-ping.js\"\nexport {ref} from \"./build/build-ref.js\"\nexport {script} from \"./build/build-script.js\"\nexport {transaction} from \"./build/build-transaction.js\"\nexport {validator} from \"./build/build-validator.js\"\nexport {invariant} from \"./build/build-invariant.js\"\nexport {voucherIntercept} from \"./build/build-voucher-intercept.js\"\n\n// Resolvers\nexport {resolveCadence} from \"./resolve/resolve-cadence.js\"\nexport {resolveFinalNormalization} from \"./resolve/resolve-final-normalization\"\nexport {resolveProposerSequenceNumber} from \"./resolve/resolve-proposer-sequence-number\"\nexport {resolveArguments} from \"./resolve/resolve-arguments.js\"\nexport {resolveAccounts} from \"./resolve/resolve-accounts.js\"\nexport {resolveSignatures} from \"./resolve/resolve-signatures.js\"\nexport {resolveValidators} from \"./resolve/resolve-validators.js\"\nexport {resolveRefBlockId} from \"./resolve/resolve-ref-block-id.js\"\nexport {resolveVoucherIntercept} from \"./resolve/resolve-voucher-intercept.js\"\n\nexport {config} from \"@onflow/config\"\n\n// Deprecated\nexport const params = params =>\n  deprecate.error({\n    name: \"params\",\n    transitionsPath:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n  })\nexport const param = params =>\n  deprecate.warn({\n    name: \"param\",\n    transitionsPath:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n  })\n\nimport * as TestUtils from \"./test-utils\"\nexport {TestUtils}\n\nexport {VERSION} from \"./VERSION\"\n"],"names":["buildWarningMessage","name","transitionsPath","console","warn","buildErrorMessage","error","deprecated","deprecate","body","recover","result","e","then","UNKNOWN","SCRIPT","TRANSACTION","GET_TRANSACTION_STATUS","GET_ACCOUNT","GET_EVENTS","PING","GET_TRANSACTION","GET_BLOCK","GET_BLOCK_HEADER","GET_COLLECTION","BAD","OK","ACCOUNT","PARAM","ARGUMENT","AUTHORIZER","PAYER","PROPOSER","ACCT","ARG","IX","KEYS","Set","Object","keys","JSON","parse","interaction","CHARS","split","randChar","Math","random","length","uuid","Array","from","join","isNumber","d","isArray","isObj","isNull","isFn","isInteraction","ix","key","hasOwnProperty","Ok","status","Bad","reason","makeIx","wat","tag","prepAccount","acct","opts","invariant","role","tempId","authorization","resolve","accounts","authorizations","push","payer","makeArgument","arg","message","arguments","value","asArgument","xform","resolveArgument","bind","makeUnknown","makeScript","makeTransaction","makeGetTransactionStatus","makeGetTransaction","makeGetAccount","makeGetEvents","makePing","makeGetBlock","makeGetBlockHeader","makeGetCollection","is","isUnknown","isScript","isTransaction","isGetTransactionStatus","isGetTransaction","isGetAccount","isGetEvents","isPing","isGetBlock","isGetBlockHeader","isGetCollection","isOk","isBad","why","isAccount","account","kind","isParam","param","isArgument","argument","hardMode","has","Error","recPipe","fns","hd","rest","cur","pipe","arg1","arg2","identity","v","get","fallback","assigns","put","update","fn","destroy","build","DEFAULT_RESPONSE","response","getBlock","isSealed","block","getAccount","addr","sansPrefix","latestBlockDeprecationNotice","replace","trim","decodeImplicit","i","decodeVoid","decodeType","type","staticType","decodePath","path","domain","identifier","decodeCapability","cap","address","borrowType","decodeOptional","optional","decoders","stack","recurseDecode","decodeReference","decodeArray","array","Promise","all","map","res","decodeDictionary","dictionary","reduce","acc","decodeComposite","composite","fields","decoded","decoder","id","decoderLookup","defaultDecoders","UInt","Int","UInt8","Int8","UInt16","Int16","UInt32","Int32","UInt64","Int64","UInt128","Int128","UInt256","Int256","Word8","Word16","Word32","Word64","UFix64","Fix64","String","Character","Bool","Address","Void","Optional","Reference","Dictionary","Event","Resource","Struct","Enum","Type","Path","Capability","lookup","found","find","test","reg","RegExp","substring","decodeInstructions","decode","customDecoders","decodeResponse","encodedData","transactionStatus","events","decodeEvents","eventIndex","transactionIndex","transactionId","payload","data","transaction","blockTimestamp","blockHeight","blockId","blockHeader","latestBlock","collection","getRefId","config","node","first","defaultSend","sendFn","Buffer","ixModule","resolveRefBlockId","refBlock","resolveCadence","isString","cadence","where","entries","regex","_iteratorSymbol","Symbol","iterator","pact","state","s","o","_settle","observer","_Pact","prototype","onFulfilled","onRejected","callback","_this","thenable","check","reject","_cycle","_isSettledPact","target","step","next","done","_fixup","TypeError","values","_forTo","resolveArguments","handleArgResolution","cast","depth","resolvedArg","encodeTransactionPayload","tx","prependTransactionDomainTag","rlpEncode","preparePayload","encodeTransactionEnvelope","prepareEnvelope","encodeTxIdFromVoucher","voucher","sha3_256","prepareVoucher","rightPaddedHexBuffer","pad","padEnd","leftPaddedHexBuffer","padStart","TRANSACTION_DOMAIN_TAG","toString","addressBuffer","blockBuffer","argumentToString","stringify","scriptBuffer","script","signatureBuffer","signature","encode","msg","sha","SHA3","digest","validatePayload","computeLimit","proposalKey","keyId","sequenceNum","authorizers","authorizer","validateEnvelope","preparePayloadSignatures","signers","collectSigners","payloadSigs","sig","signerIndex","sort","a","b","Map","addSigner","set","forEach","validateVoucher","prepareSigs","sigs","envelopeSigs","payloadFields","field","checkField","proposalKeyFields","payloadSigsFields","index","payloadSigFields","envelopeSigsFields","envelopeSigFields","isObject","defaultVal","obj","base","missingFieldError","invalidFieldError","printFieldName","findInsideSigners","inside","add","proposer","p","findOutsideSigners","outside","createSignableVoucher","buildAuthorizers","cid","withPrefix","prev","current","item","buildInsideSigners","buildOutsideSigners","voucherToTxId","resolveAccounts","collectAccounts","last","curr","ax","old","dupList","payerAccts","g","includes","multiAccts","buildPreSignable","f_type","f_vsn","roles","args","resolveSignatures","insideSigners","insidePayload","encodeInsideMessage","prepForEncoding","fetchSignature","outsideSigners","outsidePayload","encodeOutsideMessage","innerFetchSignature","signingFunction","buildSignable","payerAddress","resolveValidators","validators","cb","resolveFinalNormalization","resolveVoucherIntercept","execFetchSequenceNumber","sequenceNumber","execFetchRef","noop","debug","take","accts","filter","Boolean","log","predicate","send","defaultResolve","resolveFn","decodersFromConfig","pattern","fromEntries","findPayloadSigners","findEnvelopeSigners","envelope","UnableToDetermineMessageEncodingTypeForSignerAddress","signerAddress","encodeMessageFromSignable","signable","payloadSigners","envelopeSigners","isPayloadSigner","isEnvelopeSigner","ps","validator","atBlockHeight","height","atBlockId","sealed","authz","getEvents","eventType","start","end","getEventsAtBlockHeightRange","getEventsAtBlockIds","blockIds","getBlockHeader","getCollection","getTransactionStatus","getTransaction","limit","ping","ref","template","DEFAULT_COMPUTE_LIMIT","DEFAULT_SCRIPT_ACCOUNTS","DEFUALT_REF","voucherIntercept","resolveProposerSequenceNumber","responseModule","mockAccountResponse","numberOfKeys","_","mockGetBlockResponse","mockSend","execSend","idof","authzFn","fallbackSigningFunction","authzResolve","ROLE","authzResolveMany","run","VERSION","params"],"mappings":"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"}